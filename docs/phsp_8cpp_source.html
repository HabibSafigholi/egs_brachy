<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>EGS Brachy: /home/randlet/projects/egs/egs_brachy_release/egs_brachy/phsp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EGS Brachy
   </div>
   <div id="projectbrief">An egs++ user code for rapid brachytherapy calculations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/randlet/projects/egs/egs_brachy_release/egs_brachy/phsp.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="phsp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">################################################################################</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">#  egs_brachy phsp.cpp</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">#  Copyright (C) 2016 Rowan Thomson, Dave Rogers, Randle Taylor, and Marc</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">#  Chamberland</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#  This file is part of egs_brachy</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">#  egs_brachy is free software: you can redistribute it and/or modify it</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">#  under the terms of the GNU Affero General Public License as published</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">#  by the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">#  (at your option) any later version.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">#  egs_brachy is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">#  WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">#  Affero General Public License for more details:</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">#  &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">################################################################################</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">#  When egs_brachy is used for publications, please cite our paper:</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">#  M. J. P. Chamberland, R. E. P. Taylor, D. W. O. Rogers, and R. M. Thomson,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">#  egs brachy: a versatile and fast Monte Carlo code for brachytherapy,</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">#  Phys. Med. Biol. 61, 8214-8231 (2016).</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">################################################################################</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">#  Author:        Randle Taylor, 2016</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">#  Contributors:  Marc Chamberland</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">#                 Dave Rogers</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">#                 Rowan Thomson</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">################################################################################</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="phsp_8h.html">phsp.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;egs_interface2.h&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;iaea_header.h&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="phsp_8cpp.html#a15a6a7d5fc5caf5ed59a53bfc2b9c3e0">   51</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="phsp_8cpp.html#a15a6a7d5fc5caf5ed59a53bfc2b9c3e0">dirExists</a>(<span class="keywordtype">string</span> path) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">struct </span>stat info;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">int</span> res = stat(path.c_str(), &amp;info);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> res == 0 &amp;&amp; (info.st_mode &amp; S_IFDIR);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classPHSPControl.html#afc2c1be04e82df2e0b4c6f177105c0b1">   59</a></span>&#160;<a class="code" href="classPHSPControl.html#afc2c1be04e82df2e0b4c6f177105c0b1">PHSPControl::PHSPControl</a>(EGS_Input *inp, EGS_AffineTransform *trans, EGS_AdvancedApplication *app, <a class="code" href="classPublisher.html">Publisher</a> *pub):</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    num_written(0), transform(trans), boundary_step(1E-4) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">id</span> = 1;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">string</span> dir;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">int</span> err = inp-&gt;getInput(<span class="stringliteral">&quot;phsp output directory&quot;</span>, dir);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (err) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        dir = egsJoinPath(app-&gt;getAppDir(), app-&gt;getWorkDir());</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="phsp_8cpp.html#a15a6a7d5fc5caf5ed59a53bfc2b9c3e0">dirExists</a>(dir)) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        egsFatal(<span class="stringliteral">&quot;PHSPControl:: unable to access directory %s\n&quot;</span>, dir.c_str());</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a> = egsJoinPath(dir, app-&gt;getOutputFile())+<span class="stringliteral">&quot;.phsp&quot;</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    vector&lt;string&gt; yn_choices;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    yn_choices.push_back(<span class="stringliteral">&quot;no&quot;</span>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    yn_choices.push_back(<span class="stringliteral">&quot;yes&quot;</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classPHSPControl.html#a1217761fcd0604c95b0e43bc99478b56">kill_after_scoring</a> = (bool)inp-&gt;getInput(<span class="stringliteral">&quot;kill after scoring&quot;</span>, yn_choices, 0);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classPHSPControl.html#adf10b858b353980a148b0920b1364294">print_header</a> = (bool)inp-&gt;getInput(<span class="stringliteral">&quot;print header&quot;</span>, yn_choices, 0);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    err = inp-&gt;getInput(<span class="stringliteral">&quot;boundary step&quot;</span>, <a class="code" href="classPHSPControl.html#afa206009dac020aed428c7f17888bb5c">boundary_step</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    vector&lt;string&gt; access_choices;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    access_choices.push_back(<span class="stringliteral">&quot;append&quot;</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    access_choices.push_back(<span class="stringliteral">&quot;write&quot;</span>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">int</span> imode = inp-&gt;getInput(<span class="stringliteral">&quot;access mode&quot;</span>, access_choices, 0);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (imode == 0) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="classPHSPControl.html#acef047f0bf6af45911cd8697307d76dc">mode</a> = <a class="code" href="classPHSPControl.html#a3814402ffada7306dce7ebe7860ac5eeaa257e4779a63a80c0d997605dc1614b5">APPEND</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imode == 1) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="classPHSPControl.html#acef047f0bf6af45911cd8697307d76dc">mode</a> = <a class="code" href="classPHSPControl.html#a3814402ffada7306dce7ebe7860ac5eeaec485a30847de09de7cc65839ca295e0">WRITE</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        egsFatal(<span class="stringliteral">&quot;PHSPControl:: unknown access mode\n&quot;</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="classPHSPControl.html#a2b55fe005571b7088b70536ce65e4fd1">initSource</a>();</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    pub-&gt;<a class="code" href="classPublisher.html#a2b6bb7b237febbad4c24d5637798a2ba">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="pubsub_8h.html#af1f086fdac6d8f062533820ad583abe2a3bc711b2c582f57f39de155ca70129aa">PARTICLE_ESCAPED_SOURCE</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;};</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classPHSPControl.html#ae622d2288adfe4cf09700ecc4fe6fb00">  103</a></span>&#160;<span class="keywordtype">short</span> <a class="code" href="classPHSPControl.html#ae622d2288adfe4cf09700ecc4fe6fb00">PHSPControl::getIAEAParticleType</a>(<span class="keyword">const</span> EGS_Particle *<a class="code" href="namespacerun__tests.html#a06d28bb51089525bed083a9fa060c3f6">p</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (p-&gt;q == 0) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aa42457958ceec5da0d66648a6818e5bc5">PHOTON</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;q == -1) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aaacf364b68b66b708e0a6090be013499e">ELECTRON</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;q == 1) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aac03b2a99878bdf3e6035f4b6b1b1f6b4">POSITRON</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    egsFatal(<span class="stringliteral">&quot;PHSPControl::Tried to write unknown particle type\n&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classPHSPControl.html#ab7604c7d6d4ab66b5e492c4bf3bc0064">  117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#ab7604c7d6d4ab66b5e492c4bf3bc0064">PHSPControl::writeParticle</a>(EGS_Particle *<a class="code" href="namespacerun__tests.html#a06d28bb51089525bed083a9fa060c3f6">p</a>) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// first move back to non transformed location</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    EGS_Vector new_loc(p-&gt;x);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    EGS_Vector new_dir(p-&gt;u);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    EGS_Vector new_dir_norm(p-&gt;u);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    new_dir_norm.normalize();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classPHSPControl.html#a3852777b70e8c236ad63163c6783f98e">transform</a>-&gt;transform(new_loc);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="classPHSPControl.html#a3852777b70e8c236ad63163c6783f98e">transform</a>-&gt;rotate(new_dir);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// take very small step so we are ensured to be outside source geom</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    new_loc += <a class="code" href="classPHSPControl.html#afa206009dac020aed428c7f17888bb5c">boundary_step</a>*new_dir_norm;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// if particles haven&#39;t been split by brem splitting they</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// should be statistically independent when leaving source</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> n_stat = p-&gt;wt &lt; 1. ? 0 : 1;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> type = <a class="code" href="classPHSPControl.html#ae622d2288adfe4cf09700ecc4fe6fb00">getIAEAParticleType</a>(p);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a> E = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)p-&gt;E,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                     wt = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)p-&gt;wt,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                     <a class="code" href="eb__iaeaphsp__source_2docs_2output_2html_2jquery_8js.html#a4c3eadaa5164016d2c340d495fc6e55e">x</a> = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_loc.x,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                     y = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_loc.y,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                     z = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_loc.z,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                     u = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_dir.x,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                     v = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_dir.y,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                     w = (<a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a>)new_dir.z;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">IAEA_Float</a> extra_float = 0.;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> extra_int = 0;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    iaea_write_particle(&amp;<span class="keywordtype">id</span>, &amp;n_stat, &amp;type, &amp;E, &amp;wt, &amp;<a class="code" href="eb__iaeaphsp__source_2docs_2output_2html_2jquery_8js.html#a4c3eadaa5164016d2c340d495fc6e55e">x</a>, &amp;y, &amp;z, &amp;u, &amp;v, &amp;w, &amp;extra_float, &amp;extra_int);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classPHSPControl.html#aef706fd955c158707eb1689037f1682a">num_written</a>++;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classPHSPControl.html#a1217761fcd0604c95b0e43bc99478b56">kill_after_scoring</a>) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        p-&gt;wt = 0.;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordtype">int</span> np = the_stack-&gt;np - 1;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        the_stack-&gt;wt[np] = 0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classPHSPControl.html#a2b55fe005571b7088b70536ce65e4fd1">  163</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#a2b55fe005571b7088b70536ce65e4fd1">PHSPControl::initSource</a>() {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">char</span> *hname = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>.size()+1];</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="LICENSE_8txt.html#a02c38e07ba0ee181a9bca6d7393323cc">copy</a>(<a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>.begin(), <a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>.end(), hname);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    hname[<a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>.size()] =  <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> iaea_idx;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    iaea_new_source(&amp;<span class="keywordtype">id</span>, hname, &amp;<a class="code" href="classPHSPControl.html#acef047f0bf6af45911cd8697307d76dc">mode</a>, &amp;iaea_idx, <a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>.size());</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// we&#39;re not currently writing any extra parameters</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> n_extra_float=0, n_extra_int=0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    iaea_set_extra_numbers(&amp;<span class="keywordtype">id</span>, &amp;n_extra_float, &amp;n_extra_int);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (iaea_idx &lt; 0) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        egsFatal(<span class="stringliteral">&quot;PHSPControl:: failed to initialize source with IAEA error %d\n&quot;</span>, iaea_idx);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">delete</span>[] hname;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classPHSPControl.html#a9ce0935d1b2923b04be855bd8fb85dc8">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#a9ce0935d1b2923b04be855bd8fb85dc8">PHSPControl::update</a>(<a class="code" href="pubsub_8h.html#af1f086fdac6d8f062533820ad583abe2">EB_Message</a> message, <span class="keywordtype">void</span> *particle) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (message == <a class="code" href="pubsub_8h.html#af1f086fdac6d8f062533820ad583abe2a3bc711b2c582f57f39de155ca70129aa">PARTICLE_ESCAPED_SOURCE</a>) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        EGS_Particle *<a class="code" href="namespacerun__tests.html#a06d28bb51089525bed083a9fa060c3f6">p</a> = <span class="keyword">static_cast&lt;</span>EGS_Particle *<span class="keyword">&gt;</span>(particle);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="classPHSPControl.html#ab7604c7d6d4ab66b5e492c4bf3bc0064">writeParticle</a>(p);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classPHSPControl.html#a62189962c8e9c61c53b26686550c1079">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#a62189962c8e9c61c53b26686550c1079">PHSPControl::finish</a>(EGS_I64 n_orig_particles) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a34dda2fe0c1556d7d7fe37938c7c7bc1">IAEA_I64</a> n_orig = n_orig_particles;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    iaea_set_total_original_particles(&amp;<span class="keywordtype">id</span>, &amp;n_orig);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classPHSPControl.html#a3f0ffa6bef549e21411359b4fd3a4ca3">  199</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#a3f0ffa6bef549e21411359b4fd3a4ca3">PHSPControl::outputResults</a>() {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">string</span> sep(80, <span class="charliteral">&#39;=&#39;</span>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a34dda2fe0c1556d7d7fe37938c7c7bc1">IAEA_I64</a> n_particles;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> particle_type = <a class="code" href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aa267b6617a1e8002fbd56d67bbe190a2c">ALL_TYPES</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> result;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    iaea_get_max_particles(&amp;<span class="keywordtype">id</span>, &amp;particle_type, &amp;n_particles);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    egsInformation(<span class="stringliteral">&quot;\n\nPHSP File Scoring\n%s\n&quot;</span>, sep.c_str());</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    egsInformation(<span class="stringliteral">&quot;\nOutput file             : %s&quot;</span>, (<a class="code" href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">fname</a>+<span class="stringliteral">&quot;.*&quot;</span>).c_str());</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    egsInformation(<span class="stringliteral">&quot;\nNew Particles written   : %d&quot;</span>, <a class="code" href="classPHSPControl.html#aef706fd955c158707eb1689037f1682a">num_written</a>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    egsInformation(<span class="stringliteral">&quot;\nTotal Particles         : %d&quot;</span>, n_particles);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    egsInformation(<span class="stringliteral">&quot;\nBoundary Step (cm)      : %.2G&quot;</span>, <a class="code" href="classPHSPControl.html#afa206009dac020aed428c7f17888bb5c">boundary_step</a>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classPHSPControl.html#adf10b858b353980a148b0920b1364294">print_header</a>) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        iaea_print_header(&amp;<span class="keywordtype">id</span>, &amp;result);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classPHSPControl.html#ae9a7ee52a15a55e1e76783f4bc21b2ff">  221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPHSPControl.html#ae9a7ee52a15a55e1e76783f4bc21b2ff">PHSPControl::destroySource</a>() {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">IAEA_I32</a> result;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    iaea_destroy_source(&amp;<span class="keywordtype">id</span>, &amp;result);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="ttc" id="classPHSPControl_html_ae9a7ee52a15a55e1e76783f4bc21b2ff"><div class="ttname"><a href="classPHSPControl.html#ae9a7ee52a15a55e1e76783f4bc21b2ff">PHSPControl::destroySource</a></div><div class="ttdeci">void destroySource()</div><div class="ttdoc">destroy the source </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00221">phsp.cpp:221</a></div></div>
<div class="ttc" id="classPHSPControl_html_aef706fd955c158707eb1689037f1682a"><div class="ttname"><a href="classPHSPControl.html#aef706fd955c158707eb1689037f1682a">PHSPControl::num_written</a></div><div class="ttdeci">IAEA_I64 num_written</div><div class="ttdoc">Number of particles written to phsp file. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00072">phsp.h:72</a></div></div>
<div class="ttc" id="classPHSPControl_html_afc2c1be04e82df2e0b4c6f177105c0b1"><div class="ttname"><a href="classPHSPControl.html#afc2c1be04e82df2e0b4c6f177105c0b1">PHSPControl::PHSPControl</a></div><div class="ttdeci">PHSPControl(EGS_Input *inp, EGS_AffineTransform *trans, EGS_AdvancedApplication *app, Publisher *pub)</div><div class="ttdoc">PHSP Control constructor. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00059">phsp.cpp:59</a></div></div>
<div class="ttc" id="classPHSPControl_html_ae65ecb300ca723f4e0ccd952d234603aac03b2a99878bdf3e6035f4b6b1b1f6b4"><div class="ttname"><a href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aac03b2a99878bdf3e6035f4b6b1b1f6b4">PHSPControl::POSITRON</a></div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00063">phsp.h:63</a></div></div>
<div class="ttc" id="classPHSPControl_html_a3852777b70e8c236ad63163c6783f98e"><div class="ttname"><a href="classPHSPControl.html#a3852777b70e8c236ad63163c6783f98e">PHSPControl::transform</a></div><div class="ttdeci">EGS_AffineTransform * transform</div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00075">phsp.h:75</a></div></div>
<div class="ttc" id="classPHSPControl_html_a2b55fe005571b7088b70536ce65e4fd1"><div class="ttname"><a href="classPHSPControl.html#a2b55fe005571b7088b70536ce65e4fd1">PHSPControl::initSource</a></div><div class="ttdeci">void initSource()</div><div class="ttdoc">create/open new source and set extra numbers </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00163">phsp.cpp:163</a></div></div>
<div class="ttc" id="eb__iaeaphsp__source_2docs_2output_2html_2jquery_8js_html_a4c3eadaa5164016d2c340d495fc6e55e"><div class="ttname"><a href="eb__iaeaphsp__source_2docs_2output_2html_2jquery_8js.html#a4c3eadaa5164016d2c340d495fc6e55e">x</a></div><div class="ttdeci">function x(bx)</div><div class="ttdef"><b>Definition:</b> <a href="eb__iaeaphsp__source_2docs_2output_2html_2jquery_8js_source.html#l00030">jquery.js:30</a></div></div>
<div class="ttc" id="phsp_8h_html"><div class="ttname"><a href="phsp_8h.html">phsp.h</a></div><div class="ttdoc">Definition of the PHSPControl object. </div></div>
<div class="ttc" id="namespacetests_1_1iaea__types_html_af6728cb3ff96d90ebff64f747e7a11ca"><div class="ttname"><a href="namespacetests_1_1iaea__types.html#af6728cb3ff96d90ebff64f747e7a11ca">tests.iaea_types.IAEA_Float</a></div><div class="ttdeci">IAEA_Float</div><div class="ttdef"><b>Definition:</b> <a href="iaea__types_8py_source.html#l00003">iaea_types.py:3</a></div></div>
<div class="ttc" id="pubsub_8h_html_af1f086fdac6d8f062533820ad583abe2"><div class="ttname"><a href="pubsub_8h.html#af1f086fdac6d8f062533820ad583abe2">EB_Message</a></div><div class="ttdeci">EB_Message</div><div class="ttdef"><b>Definition:</b> <a href="pubsub_8h_source.html#l00054">pubsub.h:54</a></div></div>
<div class="ttc" id="namespacetests_1_1iaea__types_html_a92cb8b71a8cda92c11beea86c1aaf7d3"><div class="ttname"><a href="namespacetests_1_1iaea__types.html#a92cb8b71a8cda92c11beea86c1aaf7d3">tests.iaea_types.IAEA_I32</a></div><div class="ttdeci">IAEA_I32</div><div class="ttdef"><b>Definition:</b> <a href="iaea__types_8py_source.html#l00009">iaea_types.py:9</a></div></div>
<div class="ttc" id="classPHSPControl_html_a3814402ffada7306dce7ebe7860ac5eeaec485a30847de09de7cc65839ca295e0"><div class="ttname"><a href="classPHSPControl.html#a3814402ffada7306dce7ebe7860ac5eeaec485a30847de09de7cc65839ca295e0">PHSPControl::WRITE</a></div><div class="ttdoc">IAEA Write mode. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00055">phsp.h:55</a></div></div>
<div class="ttc" id="classPHSPControl_html_a3f0ffa6bef549e21411359b4fd3a4ca3"><div class="ttname"><a href="classPHSPControl.html#a3f0ffa6bef549e21411359b4fd3a4ca3">PHSPControl::outputResults</a></div><div class="ttdeci">void outputResults()</div><div class="ttdoc">output file name and number of particles written </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00199">phsp.cpp:199</a></div></div>
<div class="ttc" id="phsp_8cpp_html_a15a6a7d5fc5caf5ed59a53bfc2b9c3e0"><div class="ttname"><a href="phsp_8cpp.html#a15a6a7d5fc5caf5ed59a53bfc2b9c3e0">dirExists</a></div><div class="ttdeci">bool dirExists(string path)</div><div class="ttdoc">return true if input path is an existing directory </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00051">phsp.cpp:51</a></div></div>
<div class="ttc" id="classPublisher_html_a2b6bb7b237febbad4c24d5637798a2ba"><div class="ttname"><a href="classPublisher.html#a2b6bb7b237febbad4c24d5637798a2ba">Publisher::subscribe</a></div><div class="ttdeci">void subscribe(Subscriber *s, EB_Message message)</div><div class="ttdef"><b>Definition:</b> <a href="pubsub_8h_source.html#l00083">pubsub.h:83</a></div></div>
<div class="ttc" id="classPHSPControl_html_ae65ecb300ca723f4e0ccd952d234603aaacf364b68b66b708e0a6090be013499e"><div class="ttname"><a href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aaacf364b68b66b708e0a6090be013499e">PHSPControl::ELECTRON</a></div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00062">phsp.h:62</a></div></div>
<div class="ttc" id="pubsub_8h_html_af1f086fdac6d8f062533820ad583abe2a3bc711b2c582f57f39de155ca70129aa"><div class="ttname"><a href="pubsub_8h.html#af1f086fdac6d8f062533820ad583abe2a3bc711b2c582f57f39de155ca70129aa">PARTICLE_ESCAPED_SOURCE</a></div><div class="ttdef"><b>Definition:</b> <a href="pubsub_8h_source.html#l00061">pubsub.h:61</a></div></div>
<div class="ttc" id="classPHSPControl_html_adf10b858b353980a148b0920b1364294"><div class="ttname"><a href="classPHSPControl.html#adf10b858b353980a148b0920b1364294">PHSPControl::print_header</a></div><div class="ttdeci">bool print_header</div><div class="ttdoc">User has requested the phsp header gets printed after run. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00084">phsp.h:84</a></div></div>
<div class="ttc" id="classPublisher_html"><div class="ttname"><a href="classPublisher.html">Publisher</a></div><div class="ttdef"><b>Definition:</b> <a href="pubsub_8h_source.html#l00077">pubsub.h:77</a></div></div>
<div class="ttc" id="classPHSPControl_html_acef047f0bf6af45911cd8697307d76dc"><div class="ttname"><a href="classPHSPControl.html#acef047f0bf6af45911cd8697307d76dc">PHSPControl::mode</a></div><div class="ttdeci">IAEA_I32 mode</div><div class="ttdoc">Access mode. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00068">phsp.h:68</a></div></div>
<div class="ttc" id="classPHSPControl_html_ae65ecb300ca723f4e0ccd952d234603aa267b6617a1e8002fbd56d67bbe190a2c"><div class="ttname"><a href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aa267b6617a1e8002fbd56d67bbe190a2c">PHSPControl::ALL_TYPES</a></div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00060">phsp.h:60</a></div></div>
<div class="ttc" id="namespacetests_1_1iaea__types_html_a34dda2fe0c1556d7d7fe37938c7c7bc1"><div class="ttname"><a href="namespacetests_1_1iaea__types.html#a34dda2fe0c1556d7d7fe37938c7c7bc1">tests.iaea_types.IAEA_I64</a></div><div class="ttdeci">IAEA_I64</div><div class="ttdef"><b>Definition:</b> <a href="iaea__types_8py_source.html#l00011">iaea_types.py:11</a></div></div>
<div class="ttc" id="classPHSPControl_html_ab7604c7d6d4ab66b5e492c4bf3bc0064"><div class="ttname"><a href="classPHSPControl.html#ab7604c7d6d4ab66b5e492c4bf3bc0064">PHSPControl::writeParticle</a></div><div class="ttdeci">void writeParticle(EGS_Particle *p)</div><div class="ttdoc">write a single particle to the phsp </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00117">phsp.cpp:117</a></div></div>
<div class="ttc" id="LICENSE_8txt_html_a02c38e07ba0ee181a9bca6d7393323cc"><div class="ttname"><a href="LICENSE_8txt.html#a02c38e07ba0ee181a9bca6d7393323cc">copy</a></div><div class="ttdeci">and that you are informed that you can do these things To protect your we need to make restrictions that forbid distributors to deny you these rights or to ask you to surrender these rights These restrictions translate to certain responsibilities for you if you distribute copies of the library or if you modify it For if you distribute copies of the whether gratis or for a you must give the recipients all the rights that we gave you You must make sure that receive or can get the source code If you link other code with the you must provide complete object files to the so that they can relink them with the library after making changes to the library and recompiling it And you must show them these terms so they know their rights We protect your rights with a two step which gives you legal permission to copy</div><div class="ttdef"><b>Definition:</b> <a href="LICENSE_8txt_source.html#l00050">LICENSE.txt:50</a></div></div>
<div class="ttc" id="classPHSPControl_html_ae65ecb300ca723f4e0ccd952d234603aa42457958ceec5da0d66648a6818e5bc5"><div class="ttname"><a href="classPHSPControl.html#ae65ecb300ca723f4e0ccd952d234603aa42457958ceec5da0d66648a6818e5bc5">PHSPControl::PHOTON</a></div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00061">phsp.h:61</a></div></div>
<div class="ttc" id="classPHSPControl_html_a1217761fcd0604c95b0e43bc99478b56"><div class="ttname"><a href="classPHSPControl.html#a1217761fcd0604c95b0e43bc99478b56">PHSPControl::kill_after_scoring</a></div><div class="ttdeci">bool kill_after_scoring</div><div class="ttdoc">Set wt = 0 for particle after scoring if true. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00082">phsp.h:82</a></div></div>
<div class="ttc" id="classPHSPControl_html_a62189962c8e9c61c53b26686550c1079"><div class="ttname"><a href="classPHSPControl.html#a62189962c8e9c61c53b26686550c1079">PHSPControl::finish</a></div><div class="ttdeci">void finish(EGS_I64 n_orig_particles)</div><div class="ttdoc">set final number of particles written and destroy source </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00193">phsp.cpp:193</a></div></div>
<div class="ttc" id="classPHSPControl_html_afa206009dac020aed428c7f17888bb5c"><div class="ttname"><a href="classPHSPControl.html#afa206009dac020aed428c7f17888bb5c">PHSPControl::boundary_step</a></div><div class="ttdeci">EGS_Float boundary_step</div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00078">phsp.h:78</a></div></div>
<div class="ttc" id="classPHSPControl_html_a9ce0935d1b2923b04be855bd8fb85dc8"><div class="ttname"><a href="classPHSPControl.html#a9ce0935d1b2923b04be855bd8fb85dc8">PHSPControl::update</a></div><div class="ttdeci">void update(EB_Message message, void *particle)</div><div class="ttdoc">receive PARTICLE_ESCAPED_SOURCE message </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00185">phsp.cpp:185</a></div></div>
<div class="ttc" id="namespacerun__tests_html_a06d28bb51089525bed083a9fa060c3f6"><div class="ttname"><a href="namespacerun__tests.html#a06d28bb51089525bed083a9fa060c3f6">run_tests.p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="run__tests_8py_source.html#l00053">run_tests.py:53</a></div></div>
<div class="ttc" id="classPHSPControl_html_ae622d2288adfe4cf09700ecc4fe6fb00"><div class="ttname"><a href="classPHSPControl.html#ae622d2288adfe4cf09700ecc4fe6fb00">PHSPControl::getIAEAParticleType</a></div><div class="ttdeci">short getIAEAParticleType(const EGS_Particle *p)</div><div class="ttdoc">convert a particle to its IAEA Particle type </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8cpp_source.html#l00103">phsp.cpp:103</a></div></div>
<div class="ttc" id="classPHSPControl_html_a3814402ffada7306dce7ebe7860ac5eeaa257e4779a63a80c0d997605dc1614b5"><div class="ttname"><a href="classPHSPControl.html#a3814402ffada7306dce7ebe7860ac5eeaa257e4779a63a80c0d997605dc1614b5">PHSPControl::APPEND</a></div><div class="ttdoc">IAEA Append mode. </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00056">phsp.h:56</a></div></div>
<div class="ttc" id="classPHSPControl_html_aeccb703823fd03fc8df72b2beb7aaa0b"><div class="ttname"><a href="classPHSPControl.html#aeccb703823fd03fc8df72b2beb7aaa0b">PHSPControl::fname</a></div><div class="ttdeci">string fname</div><div class="ttdoc">root name of phsp header </div><div class="ttdef"><b>Definition:</b> <a href="phsp_8h_source.html#l00069">phsp.h:69</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
